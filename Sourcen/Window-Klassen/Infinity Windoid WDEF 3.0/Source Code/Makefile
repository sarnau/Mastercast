# ==============================================================================##	Infinity Windoid 3.0##				makefile for MPW## ------------------------------------------------------------------------------#			   1991-95 Troy Gaul#				and Infinity Systems#				All Rights Reserved.# ------------------------------------------------------------------------------#   File:		Makefile#   Targets:	Infinity Windoid 3.0#  				Infinity Windoid/PPC#   Sources:	InfinityWindoid.c#   			WindoidUtil.c#   			WindoidDraw.c# ==============================================================================Output		=	Infinity Windoid 3.0PPCOut		=	Infinity Windoid/FatOutRsrc		=	InfinityWDEF.rsrc			# intermediate file for Fat build# ==============================================================================#	Types and IDs# ------------------------------------------------------------------------------Type		=	rsrcCreator		=	RSEDResType		=	WDEFResID		=	128# ==============================================================================#	Directories# ------------------------------------------------------------------------------ObjDir		=	:obj:{ObjDir}		:				# directory dependency# ==============================================================================#	68K Options/Libs# ------------------------------------------------------------------------------68KC		=	C				# Can be changed to use a different MPW-hosted								# compiler.68KCOptions	=   -w				# no warnings 												-b				# PC-relative strings										-mbg off 		# off, full													-opt full		# off, (empty)=normal, full, size, speed					-o "{ObjDir}"# ==============================================================================#	PowerPC Options/Libs# ------------------------------------------------------------------------------PPCC		=	PPCC			# Can be changed to use a different MPW-hosted								# PowerPC compiler.PPCCOptions	=	-w conformance -appleext onPPCPefLibs	=	-l InterfaceLib.xcoff=InterfaceLib											-l StdCLib.xcoff=StdCLib													-l MathLib.xcoff=MathLibPPCLinkLibs	=	"{PPCLibraries}"InterfaceLib.xcoff 											"{PPCLibraries}"StdCLib.xcoff 												"{PPCLibraries}"StdCRuntime.o 												"{PPCLibraries}"PPCCRuntime.o# ==============================================================================#	Object Files# ------------------------------------------------------------------------------68KObjects	=	"{ObjDir}"InfinityWindoid.c.o												"{ObjDir}"WindoidUtil.c.o													"{ObjDir}"WindoidDraw.c.oPPCObjects	=	"{ObjDir}"InfinityWindoid.o													"{ObjDir}"WindoidUtil.o														"{ObjDir}"WindoidDraw.o				# ==============================================================================#	Headers# ------------------------------------------------------------------------------AllHeaders	= 	WindoidDefines.h															WindoidTypes.h																WindoidUtil.h																WindoidDraw.h# ==============================================================================#	68K Compilation# ------------------------------------------------------------------------------"{ObjDir}"InfinityWindoid.c.o		Makefile 																	InfinityWindoid.c															{AllHeaders}	{68KC} {68KCOptions} InfinityWindoid.c# ------------------------------------------------------------------------------"{ObjDir}"WindoidUtil.c.o			Makefile 																	WindoidUtil.c																{AllHeaders}	{68KC} {68KCOptions} WindoidUtil.c# ------------------------------------------------------------------------------"{ObjDir}"WindoidDraw.c.o			Makefile 																	WindoidDraw.c																{AllHeaders}	{68KC} {68KCOptions} WindoidDraw.c# ==============================================================================#	PowerPC Compilation# ------------------------------------------------------------------------------"{ObjDir}"InfinityWindoid.o			Makefile 																	InfinityWindoid.c															{AllHeaders}	{PPCC} {PPCCOptions} InfinityWindoid.c	-o "{ObjDir}"InfinityWindoid.o# ------------------------------------------------------------------------------"{ObjDir}"WindoidUtil.o				Makefile 																	WindoidUtil.c																{AllHeaders}	{PPCC} {PPCCOptions} WindoidUtil.c		-o "{ObjDir}"WindoidUtil.o# ------------------------------------------------------------------------------"{ObjDir}"WindoidDraw.o				Makefile 																	WindoidDraw.c																{AllHeaders}	{PPCC} {PPCCOptions} WindoidDraw.c		-o "{ObjDir}"WindoidDraw.o# ==============================================================================#	Linking# ------------------------------------------------------------------------------68KLinkOpts	=	-m MAIN																		-ra "{Output}"=0															-sg "{Output}"# ------------------------------------------------------------------------------#	68K version"{Output}"	컴	Makefile {68KObjects}	Link		-t {Type} -c {Creator} -rt {ResType}={ResID} 								{68KObjects} {68KLinkOpts}													-o {Targ}# ------------------------------------------------------------------------------#	Fat version - 68K"{OutRsrc}"	컴	Makefile {68KObjects}	Link		-t rsrc -c RSED -rt oCod={ResID}											{68KObjects} {68KLinkOpts} 													-o {Targ}# ------------------------------------------------------------------------------#	Fat version - PowerPC"{OutRsrc}"	컴	Makefile {PPCObjects}	PPCLink -warn -main main 															{PPCObjects} {PPCLinkLibs}													-o "{ObjDir}"InfinityWDEF.xcoff	makepef -b "{ObjDir}"InfinityWDEF.xcoff -o InfinityWDEF.pef {PPCPefLibs}	echo "read 'pCod' (128) "InfinityWDEF.pef";" | rez -a -o "{OutRsrc}"# ------------------------------------------------------------------------------#	Put the versions together in a fat binary WDEF"{PPCOut}"		Makefile {OutRsrc}	rez InfinityWDEF.r -a -o {Targ}	setfile -t {Type} -c {Creator} {Targ}#	Delete "{OutRsrc}"		# you might want to delete the intermediate file# ------------------------------------------------------------------------------